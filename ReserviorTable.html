<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="Shortcut Icon" type="image/x-icon" href="./water.jpg">
    <title>ReserviorTable</title>
</head>
<body>
    
    <div class="jumbotron bg-primary text-center">
        <h1>台灣水庫即時水情</h1>
    </div>

    <div id="container">
        <!-- 動態資料載入... -->
    </div>


    <script>
        let titleArray = ['Item' , 'Name' , 'Capacity' , 'Precent'];
        let reservoirArray = [
            {item:1 , name:'新山水庫(基隆)' , capacity:'901.48萬立方公尺' , precent: '89.9%' },
            {item:2 , name:'翡翠水庫(台北、新北)' , capacity: '28160.95萬立方公尺' , precent: '83.9%' },
            {item:3 , name:'石門水庫(新北、桃園、新竹)' , capacity: '5125.54萬立方公尺' , precent: '25.2%' },
            {item:4 , name:'永和山水庫(新竹、苗栗)' , capacity: '449.24萬立方公尺' , precent: '14.9%' },
            {item:5 , name:'寶山水庫(新竹)' , capacity: '128.57萬立方公尺' , precent: '25.5%' },
        ];

        let container = document.getElementById('container');
        let table = document.createElement('table');
        table.setAttribute("class", "table table-bordered table-striped table-primary");

        let thead = document.createElement('thead');
        let tbody = document.createElement('tbody');

        window.onload = function(){
            createTable();
            container.appendChild(table);
        }


        function createTable(){
            Addthead(thead , titleArray);
            Addtbody(tbody , reservoirArray);
        }

        function Addthead(target , dataArray){
            let tr = document.createElement('tr');
            dataArray.forEach(function(item){
                let td = document.createElement('td');
                let tdText = document.createTextNode(item);
                td.appendChild(tdText);
                tr.appendChild(td);
            });
            target.appendChild(tr);
            table.appendChild(target);
        }

        function Addtbody(target , dataArray){
            dataArray.forEach(function(item){
                let tr = document.createElement('tr');
                let values = Object.values(item);
                values.forEach(function(item){
                    let td = document.createElement('td');
                    let tdText = document.createTextNode(item);
                    td.appendChild(tdText);
                    tr.appendChild(td);
                });
                target.appendChild(tr);
                table.appendChild(target);
            });
        }

    </script>
</body>
</html>